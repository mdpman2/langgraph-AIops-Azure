Metadata-Version: 2.4
Name: langgraph-agent-framework
Version: 0.1.0
Summary: LangGraph-style AI Agent with Planning-Execution-Reflection-Decision workflow on Azure AI Foundry
Author-email: Your Name <your.email@example.com>
License: MIT
Keywords: ai-agent,langgraph,azure,workflow,microsoft-foundry
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: agent-framework-azure-ai
Requires-Dist: azure-identity
Requires-Dist: azure-ai-projects
Requires-Dist: azure-core
Requires-Dist: pydantic>=2.0.0
Requires-Dist: pydantic-settings>=2.0.0
Requires-Dist: openai
Requires-Dist: python-dotenv
Requires-Dist: structlog
Requires-Dist: rich
Requires-Dist: tenacity
Requires-Dist: aiohttp
Provides-Extra: dev
Requires-Dist: pytest; extra == "dev"
Requires-Dist: pytest-asyncio; extra == "dev"
Requires-Dist: pytest-cov; extra == "dev"
Requires-Dist: black; extra == "dev"
Requires-Dist: ruff; extra == "dev"
Requires-Dist: mypy; extra == "dev"
Provides-Extra: monitoring
Requires-Dist: azure-monitor-opentelemetry; extra == "monitoring"
Requires-Dist: opentelemetry-api; extra == "monitoring"
Requires-Dist: opentelemetry-sdk; extra == "monitoring"

# LangGraph Style AI Agent Framework

Azure SDK ë° Microsoft Agent Frameworkë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„í•œ LangGraph ìŠ¤íƒ€ì¼ì˜ AI ì—ì´ì „íŠ¸ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.

[![Tests](https://img.shields.io/badge/tests-71%20passed-brightgreen)](tests/) [![Python](https://img.shields.io/badge/python-3.11+-blue)](https://python.org) [![Azure](https://img.shields.io/badge/Azure-Container%20Apps-0078D4)](https://azure.microsoft.com)

### ì£¼ìš” ê¸°ëŠ¥
- ğŸ¨ **ì›¹ ê¸°ë°˜ ì±„íŒ… UI**: ì§ê´€ì ì¸ ëŒ€í™”í˜• ì¸í„°í˜ì´ìŠ¤
- âš¡ **ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°**: SSE(Server-Sent Events) ê¸°ë°˜ ì‘ë‹µ ìŠ¤íŠ¸ë¦¬ë°
- ğŸ”„ **ë‹¨ê³„ë³„ ì§„í–‰ í‘œì‹œ**: Planning â†’ Execution â†’ Reflection â†’ Decision ê³¼ì • ì‹¤ì‹œê°„ í™•ì¸
- â˜ï¸ **Azure Container Apps**: ìë™ ìŠ¤ì¼€ì¼ë§ ë° ê³ ê°€ìš©ì„±

---

## ğŸ¯ AIops í•œëˆˆì— ë³´ê¸°

> **AIops** = AI ì—ì´ì „íŠ¸ ê°œë°œë¶€í„° í‰ê°€, ë°°í¬, ëª¨ë‹ˆí„°ë§ê¹Œì§€ ì „ì²´ ë¼ì´í”„ì‚¬ì´í´ ìë™í™”

### ğŸ“Œ AIops 3ë‹¨ê³„ ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STAGE 1: ì—ì´ì „íŠ¸ ê°œë°œ (Local)                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  Planning â†’ Execution â†’ Reflection â†’ Decision ì‚¬ì´í´ êµ¬í˜„                    â”‚
â”‚  â€¢ Azure OpenAI (gpt-4.1) í˜¸ì¶œ                                               â”‚
â”‚  â€¢ ìê¸° ë°˜ì„± ë° ì¬ê³„íš ë£¨í”„                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STAGE 2: CI/CD íŒŒì´í”„ë¼ì¸ (GitHub Actions)                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  ì½”ë“œ Push â†’ í…ŒìŠ¤íŠ¸ â†’ í‰ê°€ â†’ Docker ë¹Œë“œ â†’ Canary ë°°í¬                       â”‚
â”‚  â€¢ Azure AI Evaluation SDKë¡œ í’ˆì§ˆ í‰ê°€                                       â”‚
â”‚  â€¢ í‰ê°€ í†µê³¼ ì‹œ ìë™ ë°°í¬                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STAGE 3: í”„ë¡œë•ì…˜ ìš´ì˜ (Azure)                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚  Azure Container Appsì—ì„œ ì—ì´ì „íŠ¸ ì‹¤í–‰ + ëª¨ë‹ˆí„°ë§                           â”‚
â”‚  â€¢ Application Insightsë¡œ ì¶”ì                                                â”‚
â”‚  â€¢ Cosmos DBì— ëŒ€í™” ê¸°ë¡ ì €ì¥                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸš€ 5ë¶„ ë§Œì— AIops ì‹¤í–‰í•˜ê¸°

```bash
# 1ï¸âƒ£ ë¡œì»¬ì—ì„œ ì—ì´ì „íŠ¸ ì‹¤í–‰
pip install -e .
python -m langgraph_agent "Pythonìœ¼ë¡œ REST API ë§Œë“œëŠ” ë°©ë²• ì•Œë ¤ì¤˜"

# 2ï¸âƒ£ í’ˆì§ˆ í‰ê°€ ì‹¤í–‰
python simple_eval.py

# 3ï¸âƒ£ Azureì— ë°°í¬ (ëŒ€í™”í˜• ëª¨ë“œ - ê¶Œì¥)
python scripts/deploy.py --interactive

# ë˜ëŠ” ì „ì²´ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ (í‰ê°€ â†’ ë°°í¬)
python scripts/agent_eval_deploy.py --skip-agent
```

### ğŸ“Š AIops í’ˆì§ˆ ê²Œì´íŠ¸ (ìë™ í‰ê°€)

| í‰ê°€ ì§€í‘œ | ì„¤ëª… | í†µê³¼ ê¸°ì¤€ |
|-----------|------|-----------|
| ğŸ¯ **Groundedness** | ì‘ë‹µì´ ì‚¬ì‹¤ì— ê¸°ë°˜í•˜ëŠ”ê°€? | â‰¥ 0.7 |
| ğŸ”— **Relevance** | ì§ˆë¬¸ê³¼ ê´€ë ¨ ìˆëŠ” ë‹µë³€ì¸ê°€? | â‰¥ 0.7 |
| ğŸ“ **Coherence** | ë…¼ë¦¬ì ìœ¼ë¡œ ì¼ê´€ì„± ìˆëŠ”ê°€? | â‰¥ 0.8 |
| ğŸ’¬ **Fluency** | ìì—°ìŠ¤ëŸ½ê²Œ í‘œí˜„ë˜ì—ˆëŠ”ê°€? | â‰¥ 0.8 |

> âš ï¸ **í’ˆì§ˆ ê²Œì´íŠ¸**: ëª¨ë“  ì§€í‘œê°€ ê¸°ì¤€ì„ í†µê³¼í•´ì•¼ë§Œ ë°°í¬ë©ë‹ˆë‹¤!

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    User Request                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Planning Node                            â”‚
â”‚  - ì‚¬ìš©ì ìš”ì²­ ë¶„ì„                                          â”‚
â”‚  - ì‹¤í–‰ ê³„íš ìˆ˜ë¦½ (PlanStep ë¦¬ìŠ¤íŠ¸)                          â”‚
â”‚  - ëª©í‘œ ë° ì˜ˆìƒ ê²°ê³¼ ì •ì˜                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Execution Node                            â”‚
â”‚  - ê³„íšëœ ë‹¨ê³„ ìˆœì°¨ ì‹¤í–‰                                     â”‚
â”‚  - ë„êµ¬ í˜¸ì¶œ ë° LLM ì¶”ë¡                                      â”‚
â”‚  - ì‹¤í–‰ ê²°ê³¼ ìˆ˜ì§‘                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Reflection Node                            â”‚
â”‚  - ì‹¤í–‰ ê²°ê³¼ í’ˆì§ˆ í‰ê°€                                       â”‚
â”‚  - ëª©í‘œ ë‹¬ì„±ë„ ì¸¡ì •                                          â”‚
â”‚  - ê°œì„ ì  ë° ì œì•ˆ ë„ì¶œ                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Decision Node                             â”‚
â”‚  - COMPLETE: ì‘ì—… ì™„ë£Œ                                       â”‚
â”‚  - CONTINUE: ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰                                  â”‚
â”‚  - RETRY: í˜„ì¬ ë‹¨ê³„ ì¬ì‹œë„                                   â”‚
â”‚  - REPLAN: ê³„íš ì¬ìˆ˜ë¦½                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚               â”‚               â”‚
              â–¼               â–¼               â–¼
         [COMPLETE]    [CONTINUE/RETRY]   [REPLAN]
              â”‚               â”‚               â”‚
              â–¼               â”‚               â”‚
         Final Output    â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                        (Loop back)
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
langgraph_agent_framework/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ langgraph_agent/
â”‚       â”œâ”€â”€ __init__.py          # íŒ¨í‚¤ì§€ ì´ˆê¸°í™”
â”‚       â”œâ”€â”€ config.py            # ì„¤ì • ê´€ë¦¬ (pydantic-settings)
â”‚       â”œâ”€â”€ models.py            # ë°ì´í„° ëª¨ë¸ ì •ì˜
â”‚       â”œâ”€â”€ workflow.py          # ì›Œí¬í”Œë¡œìš° êµ¬í˜„ (í•µì‹¬)
â”‚       â”œâ”€â”€ server.py            # ğŸ†• FastAPI ì›¹ ì„œë²„ (REST API + SSE ìŠ¤íŠ¸ë¦¬ë°)
â”‚       â”œâ”€â”€ main.py              # CLI ì§„ì…ì 
â”‚       â””â”€â”€ static/
â”‚           â””â”€â”€ index.html       # ğŸ†• ì›¹ ì±„íŒ… UI
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ evaluation/
â”‚   â”‚   â”œâ”€â”€ run_evaluation.py    # í’ˆì§ˆ í‰ê°€ ì‹¤í–‰
â”‚   â”‚   â”œâ”€â”€ check_thresholds.py  # ì„ê³„ê°’ ê²€ì¦
â”‚   â”‚   â”œâ”€â”€ test_agent_behavior.py # í–‰ë™ í…ŒìŠ¤íŠ¸
â”‚   â”‚   â””â”€â”€ test_cases.jsonl     # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
â”‚   â”œâ”€â”€ integration/
â”‚   â”‚   â””â”€â”€ test_api.py          # ğŸ†• API í†µí•© í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ unit/
â”‚       â”œâ”€â”€ test_workflow.py     # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
â”‚       â””â”€â”€ test_deploy.py       # ğŸ†• ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ agent_eval_deploy.py     # ğŸ†• í‰ê°€ â†’ ë°°í¬ í†µí•© ì›Œí¬í”Œë¡œìš°
â”‚   â”œâ”€â”€ deploy.py                # ğŸ†• ìë™ ë°°í¬ (ì¬ì‹œë„, í—¬ìŠ¤ì²´í¬ í¬í•¨)
â”‚   â”œâ”€â”€ deploy_to_azure.py       # ìƒˆ Azure OpenAI í¬í•¨ ë°°í¬
â”‚   â””â”€â”€ check_region_availability.py  # ì§€ì—­ ê°€ìš©ì„± í™•ì¸
â”œâ”€â”€ infra/
â”‚   â”œâ”€â”€ main.bicep               # Azure ì¸í”„ë¼ ì •ì˜ (ì „ì²´)
â”‚   â”œâ”€â”€ main.bicepparam          # ë°°í¬ íŒŒë¼ë¯¸í„°
â”‚   â”œâ”€â”€ deploy-with-existing-aoai.bicep  # ğŸ†• ê¸°ì¡´ OpenAI ì‚¬ìš©
â”‚   â””â”€â”€ main-gpt41.bicep         # GPT-4.1 ì „ìš© ë°°í¬
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ ci-cd.yml            # GitHub Actions CI/CD
â”œâ”€â”€ Dockerfile                   # Docker ì´ë¯¸ì§€ ì •ì˜ (ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ)
â”œâ”€â”€ docker-compose.yml           # ë¡œì»¬ ê°œë°œ í™˜ê²½
â”œâ”€â”€ requirements.txt             # Python ì˜ì¡´ì„±
â”œâ”€â”€ pyproject.toml               # íŒ¨í‚¤ì§€ ì„¤ì •
â”œâ”€â”€ pytest.ini                   # í…ŒìŠ¤íŠ¸ ì„¤ì •
â””â”€â”€ README.md                    # ì´ ë¬¸ì„œ
```

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í™˜ê²½ ì„¤ì •

```bash
# ì €ì¥ì†Œ í´ë¡ 
cd langgraph_agent_framework

# ê°€ìƒí™˜ê²½ ìƒì„±
python -m venv .venv
.venv\Scripts\activate  # Windows
# source .venv/bin/activate  # Linux/Mac

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env.template`ë¥¼ `.env`ë¡œ ë³µì‚¬í•˜ê³  ì„¤ì •:

```bash
cp .env.template .env
```

í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜:
```env
# Azure AI Foundry (ê¶Œì¥)
AZURE_FOUNDRY_PROJECT_ENDPOINT=https://your-project.ai.azure.com
AZURE_FOUNDRY_MODEL_DEPLOYMENT=gpt-4.1

# ë˜ëŠ” Azure OpenAI
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
AZURE_OPENAI_API_KEY=your-api-key
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4.1
```

### 3. ì‹¤í–‰

```bash
# CLIë¡œ ì‹¤í–‰
python -m langgraph_agent.main

# ì›¹ ì„œë²„ë¡œ ì‹¤í–‰ (UI í¬í•¨)
python -m uvicorn langgraph_agent.server:app --host 0.0.0.0 --port 8080

# ë˜ëŠ” ì„¤ì¹˜ í›„
pip install -e .
langgraph-agent
```

### 4. ì›¹ UI ì ‘ì†

ì›¹ ì„œë²„ ì‹¤í–‰ í›„ ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8080 ì ‘ì†

**API ì—”ë“œí¬ì¸íŠ¸:**
- `GET /` - ì›¹ ì±„íŒ… UI
- `GET /health` - í—¬ìŠ¤ì²´í¬
- `POST /agent` - ì—ì´ì „íŠ¸ ì‹¤í–‰ (JSON ì‘ë‹µ)
- `POST /agent/stream` - ì—ì´ì „íŠ¸ ì‹¤í–‰ (SSE ìŠ¤íŠ¸ë¦¬ë°)

## ğŸ”§ ê°œë°œ

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸ (71ê°œ)
pytest

# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë§Œ
pytest tests/unit -v

# í‰ê°€ í…ŒìŠ¤íŠ¸
pytest tests/evaluation -v

# í†µí•© í…ŒìŠ¤íŠ¸ (API ì—”ë“œí¬ì¸íŠ¸)
pytest tests/integration -v

# ì»¤ë²„ë¦¬ì§€ í¬í•¨
pytest --cov=langgraph_agent --cov-report=html
```

### í…ŒìŠ¤íŠ¸ êµ¬ì¡°

| í…ŒìŠ¤íŠ¸ ìœ í˜• | íŒŒì¼ | í…ŒìŠ¤íŠ¸ ìˆ˜ | ì„¤ëª… |
|-------------|------|----------|------|
| **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸** | `test_workflow.py` | 13ê°œ | Executor, ì›Œí¬í”Œë¡œìš° ë¡œì§ |
| **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸** | `test_deploy.py` | 21ê°œ | ë°°í¬ ì„¤ì •, ì¬ì‹œë„ ë¡œì§ |
| **í–‰ë™ í…ŒìŠ¤íŠ¸** | `test_agent_behavior.py` | 21ê°œ | ìƒíƒœ ê´€ë¦¬, ê²°ì • ë¡œì§ |
| **í†µí•© í…ŒìŠ¤íŠ¸** | `test_api.py` | 16ê°œ | FastAPI ì—”ë“œí¬ì¸íŠ¸ |
| | **í•©ê³„** | **71ê°œ** | âœ… ì „ì²´ í†µê³¼ |

### Dockerë¡œ ì‹¤í–‰

```bash
# ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t langgraph-agent --target production .

# ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker run -p 8080:8080 --env-file .env langgraph-agent

# ê°œë°œ í™˜ê²½ (docker-compose)
docker-compose up -d
```

ì›¹ UI: http://localhost:8080

### ë¡œì»¬ í‰ê°€ ì‹¤í–‰

```bash
# í‰ê°€ ì‹¤í–‰
python tests/evaluation/run_evaluation.py \
    --test-data tests/evaluation/test_cases.jsonl \
    --output-dir evaluation_results

# ì„ê³„ê°’ í™•ì¸
python tests/evaluation/check_thresholds.py \
    --results evaluation_results/metrics.json
```

## â˜ï¸ Azure ë°°í¬

### ğŸ“‹ ë°°í¬ ì‹œë‚˜ë¦¬ì˜¤ ì„ íƒ

| ì‹œë‚˜ë¦¬ì˜¤ | ìŠ¤í¬ë¦½íŠ¸ | ì„¤ëª… |
|---------|---------|------|
| **ğŸ”„ ì „ì²´ ì›Œí¬í”Œë¡œìš° (ê¶Œì¥)** | `agent_eval_deploy.py` | í‰ê°€ â†’ Human ìŠ¹ì¸ â†’ ë°°í¬ |
| **ê¸°ì¡´ Azure OpenAI ì‚¬ìš©** | `deploy.py` | `.env`ì— ì„¤ì •ëœ ê¸°ì¡´ ë¦¬ì†ŒìŠ¤ ì‚¬ìš© |
| **ìƒˆ Azure OpenAI ìƒì„±** | `deploy_to_azure.py` | GPT-4.1 ì‹ ê·œ ë°°í¬ í¬í•¨ |

> ğŸ’¡ **ê¶Œì¥**: `agent_eval_deploy.py`ë¡œ í‰ê°€ í›„ ë°°í¬í•˜ê±°ë‚˜, `.env`ì— Azure OpenAIê°€ ì´ë¯¸ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´ `deploy.py` ì‚¬ìš©

---

### ğŸ”„ ë°©ë²• 0: ì „ì²´ AIops ì›Œí¬í”Œë¡œìš° (í‰ê°€ â†’ ë°°í¬)

ì—ì´ì „íŠ¸ í’ˆì§ˆ í‰ê°€ í›„ Human-in-the-Loop ë°°í¬ ê²°ì •:

```bash
# ì „ì²´ ì›Œí¬í”Œë¡œìš° (Agent ì‹¤í–‰ â†’ í‰ê°€ â†’ ë°°í¬)
python scripts/agent_eval_deploy.py

# Agent ì‹¤í–‰ ê±´ë„ˆë›°ê³  ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ í‰ê°€ â†’ ë°°í¬
python scripts/agent_eval_deploy.py --skip-agent

# í‰ê°€ë§Œ ì‹¤í–‰ (ë°°í¬ ì•ˆí•¨)
python scripts/agent_eval_deploy.py --eval-only

# ì‚¬ìš©ì ì •ì˜ ì¿¼ë¦¬ë¡œ í…ŒìŠ¤íŠ¸
python scripts/agent_eval_deploy.py --queries "ì§ˆë¬¸1" "ì§ˆë¬¸2"
```

**ì›Œí¬í”Œë¡œìš° ë‹¨ê³„:**
1. **STAGE 1**: Agent ì‘ë‹µ ìˆ˜ì§‘ (ë˜ëŠ” ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‚¬ìš©)
2. **STAGE 2**: í’ˆì§ˆ í‰ê°€ (Groundedness, Relevance, Coherence)
3. **STAGE 3**: Human-in-the-Loop ë°°í¬ ê²°ì •
4. **STAGE 4**: Azure ë°°í¬ (ìë™ ì¬ì‹œë„ + í—¬ìŠ¤ ì²´í¬)

---

### ğŸ†• ë°©ë²• 1: ê¸°ì¡´ Azure OpenAI ì‚¬ìš© (ê¶Œì¥)

`.env`ì— ì´ë¯¸ Azure OpenAI ì—”ë“œí¬ì¸íŠ¸ê°€ ì„¤ì •ëœ ê²½ìš°:

```bash
# ëŒ€í™”í˜• ëª¨ë“œ - ì§€ì—­ì„ ì§ì ‘ ì„ íƒ
python scripts/deploy.py --interactive

# ìë™ ëª¨ë“œ - ìµœì  ì§€ì—­ ìë™ ì„ íƒ
python scripts/deploy.py

# íŠ¹ì • ì§€ì—­ ì§€ì • (ë¶ˆê°€ ì‹œ ìë™ ëŒ€ì²´)
python scripts/deploy.py --region koreacentral

# ë°°í¬ ê°€ëŠ¥ ì§€ì—­ë§Œ í™•ì¸
python scripts/deploy.py --check-regions
```

**ì˜µì…˜:**
- `--interactive`, `-i`: ëŒ€í™”í˜• ì§€ì—­ ì„ íƒ
- `--region`, `-r`: ë°°í¬ ì§€ì—­ ì§€ì •
- `--environment`, `-e`: í™˜ê²½ (dev/staging/prod)
- `--no-auto-fallback`: ìë™ ëŒ€ì²´ ì§€ì—­ íƒìƒ‰ ë¹„í™œì„±í™”

**ë°°í¬ë˜ëŠ” ë¦¬ì†ŒìŠ¤:**
- Azure Container Registry (ì´ë¯¸ì§€ ì €ì¥ì†Œ)
- Container Apps (ì—ì´ì „íŠ¸ í˜¸ìŠ¤íŒ…)
- Container Apps Environment
- Application Insights (ëª¨ë‹ˆí„°ë§)
- Log Analytics Workspace

**ğŸ”§ ìë™í™”ëœ ê¸°ëŠ¥:**
- âœ… ACR ìƒì„± ë° Docker ì´ë¯¸ì§€ ë¹Œë“œ (ì¬ì‹œë„ ë¡œì§ í¬í•¨)
- âœ… ACR ê¶Œí•œ ìë™ í™•ì¸ ë° ë¶€ì—¬ (AcrPull)
- âœ… Container App ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ (ìµœëŒ€ 5íšŒ ì¬ì‹œë„)
- âœ… í—¬ìŠ¤ ì²´í¬ ìë™ ì‹¤í–‰ (Health API + Web UI ê²€ì¦)
- âœ… DNS ì „íŒŒ ëŒ€ê¸° ë° ì˜¤ë¥˜ ìœ í˜•ë³„ ì²˜ë¦¬

**ğŸ“‹ ë°°í¬ ê²°ê³¼ ì˜ˆì‹œ:**
```
============================================================
ğŸ‰ ë°°í¬ ë° í—¬ìŠ¤ ì²´í¬ ì™„ë£Œ!

ğŸ”— ì• í”Œë¦¬ì¼€ì´ì…˜ URL: https://ca-langgraph-agent-dev.<unique-id>.<region>.azurecontainerapps.io
   Health: https://ca-langgraph-agent-dev.<unique-id>.<region>.azurecontainerapps.io/health
============================================================

ğŸ“Œ Azure Portal:
   https://portal.azure.com
   ë¦¬ì†ŒìŠ¤ ê·¸ë£¹: rg-langgraph-agent-dev-<region>
```

---

### ë°©ë²• 2: ìƒˆ Azure OpenAI ìƒì„±

GPT-4.1 ëª¨ë¸ì„ ìƒˆë¡œ ë°°í¬í•´ì•¼ í•˜ëŠ” ê²½ìš°:

```bash
# ëŒ€í™”í˜• ëª¨ë“œ - GPT-4.1 ê°€ìš© ì§€ì—­ í™•ì¸ í›„ ì„ íƒ
python scripts/deploy_to_azure.py --interactive

# ìë™ ëª¨ë“œ - GPT-4.1 ê°€ìš© ì§€ì—­ ìë™ íƒìƒ‰
python scripts/deploy_to_azure.py

# íŠ¹ì • ì§€ì—­ ì§€ì • (ë¶ˆê°€ ì‹œ ìë™ ëŒ€ì²´)
python scripts/deploy_to_azure.py --region eastus

# GPT-4.1 ê°€ìš©ì„±ë§Œ í™•ì¸
python scripts/deploy_to_azure.py --check-only
```

**ì˜µì…˜:**
- `--interactive`, `-i`: ëŒ€í™”í˜• ì§€ì—­ ì„ íƒ (ìµœëŒ€ 3ê°œ ì§€ì—­ ê²€ìƒ‰)
- `--region`, `-r`: ë°°í¬ ì§€ì—­ ì§€ì •
- `--check-only`: GPT-4.1 ì§€ì—­ ê°€ìš©ì„±ë§Œ í™•ì¸

**ë°°í¬ë˜ëŠ” ë¦¬ì†ŒìŠ¤:**
- Azure OpenAI Service + GPT-4.1 ë°°í¬
- Container Apps (ì—ì´ì „íŠ¸ í˜¸ìŠ¤íŒ…)
- Container Apps Environment
- Storage Account (ìƒíƒœ ì €ì¥)
- Application Insights (ëª¨ë‹ˆí„°ë§)
- Log Analytics Workspace

---

### ìˆ˜ë™ ë°°í¬ (Bicep)

```bash
# Azure CLI ë¡œê·¸ì¸
az login

# ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ ìƒì„±
az group create --name rg-langgraph-agent --location eastus

# ê¸°ì¡´ Azure OpenAI ì‚¬ìš© ë°°í¬
az deployment group create \
    --resource-group rg-langgraph-agent \
    --template-file infra/deploy-with-existing-aoai.bicep \
    --parameters location=eastus \
    --parameters existingAoaiEndpoint="https://your-aoai.openai.azure.com/" \
    --parameters existingAoaiKey="your-api-key"
```

### ì „ì²´ ì¸í”„ë¼ ë°°í¬ (ìƒˆ Azure OpenAI í¬í•¨)

```bash
# GPT-4.1 ì§€ì› ì§€ì—­ì—ì„œ ì „ì²´ ì¸í”„ë¼ ë°°í¬
az deployment group create \
    --resource-group rg-langgraph-agent \
    --template-file infra/main-gpt41.bicep \
    --parameters location=eastus environment=dev
```

### GitHub Actions CI/CD

1. GitHub Secrets ì„¤ì •:
   - `AZURE_CREDENTIALS`: Azure ì„œë¹„ìŠ¤ í”„ë¦°ì‹œí„ JSON
   - `AZURE_SUBSCRIPTION_ID`: Azure êµ¬ë… ID
   - `AZURE_RG`: ë¦¬ì†ŒìŠ¤ ê·¸ë£¹ ì´ë¦„
   - `ACR_NAME`: Azure Container Registry ì´ë¦„

2. ì›Œí¬í”Œë¡œìš° íŠ¸ë¦¬ê±°:
   - `main` ë¸Œëœì¹˜ push ì‹œ ìë™ ì‹¤í–‰
   - Pull Request ì‹œ ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰

## ğŸ“Š í‰ê°€ ì§€í‘œ

| ì§€í‘œ | ì„¤ëª… | ìµœì†Œ ì„ê³„ê°’ |
|------|------|-------------|
| Groundedness | ì‘ë‹µì˜ ê·¼ê±° ì¶©ì‹¤ë„ | 0.7 |
| Relevance | ì§ˆë¬¸ê³¼ì˜ ê´€ë ¨ì„± | 0.7 |
| Coherence | ë…¼ë¦¬ì  ì¼ê´€ì„± | 0.8 |
| Fluency | ìì—°ìŠ¤ëŸ¬ìš´ í‘œí˜„ | 0.8 |

## ğŸ”„ ë°°í¬ ì „ëµ

### Canary ë°°í¬ (ê¸°ë³¸)
- 10% íŠ¸ë˜í”½ìœ¼ë¡œ ìƒˆ ë²„ì „ í…ŒìŠ¤íŠ¸
- ë©”íŠ¸ë¦­ í™•ì¸ í›„ ì ì§„ì  ë¡¤ì•„ì›ƒ

### Blue-Green ë°°í¬
- ë‘ ê°œì˜ ì™„ì „í•œ í™˜ê²½ ìœ ì§€
- ì¦‰ê°ì ì¸ íŠ¸ë˜í”½ ì „í™˜
- ë¹ ë¥¸ ë¡¤ë°± ê°€ëŠ¥

## ğŸ“š ì£¼ìš” ì»´í¬ë„ŒíŠ¸

### AgentState
ì—ì´ì „íŠ¸ì˜ ì „ì²´ ìƒíƒœë¥¼ ê´€ë¦¬:
- í˜„ì¬ ì›Œí¬í”Œë¡œìš° ë‹¨ê³„
- ê³„íš ë° ì‹¤í–‰ ê¸°ë¡
- ëŒ€í™” íˆìŠ¤í† ë¦¬

### Executor í´ë˜ìŠ¤
- `PlanningExecutor`: ê³„íš ìˆ˜ë¦½
- `ExecutionExecutor`: ê³„íš ì‹¤í–‰
- `ReflectionExecutor`: ê²°ê³¼ í‰ê°€
- `DecisionExecutor`: ë‹¤ìŒ í–‰ë™ ê²°ì •

### AgentWorkflow
Microsoft Agent Frameworkì˜ `WorkflowBuilder`ë¥¼ ì‚¬ìš©í•œ ê·¸ë˜í”„ ê¸°ë°˜ ì›Œí¬í”Œë¡œìš° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ (100% Azure ê¸°ë°˜)

### Azure AI ì„œë¹„ìŠ¤
- **Azure AI Foundry**: AI Hub ë° Project ê´€ë¦¬
- **Azure OpenAI**: GPT-4.1 ëª¨ë¸ í˜¸ìŠ¤íŒ…
- **Azure AI Evaluation SDK**: ì—ì´ì „íŠ¸ í’ˆì§ˆ í‰ê°€
- **Azure AI Search**: RAG ê¸°ë°˜ ì§€ì‹ ê²€ìƒ‰
- **Azure Content Safety**: ì½˜í…ì¸  ì•ˆì „ì„± ê²€ì‚¬

### Azure ë°ì´í„° ì„œë¹„ìŠ¤
- **Azure Cosmos DB**: ëŒ€í™” íˆìŠ¤í† ë¦¬ ì €ì¥ (NoSQL)
- **Azure Blob Storage**: ìƒíƒœ ë° í‰ê°€ ê²°ê³¼ ì €ì¥
- **Azure Service Bus**: ë¹„ë™ê¸° ë©”ì‹œì§•

### Azure ë³´ì•ˆ ë° ì¸ì¦
- **Azure Key Vault**: ì‹œí¬ë¦¿ ê´€ë¦¬
- **Azure Managed Identity**: ìê²© ì¦ëª… ê´€ë¦¬
- **Azure RBAC**: ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´

### Azure ì¸í”„ë¼ ë° ë°°í¬
- **Azure Container Apps**: ì»¨í…Œì´ë„ˆ í˜¸ìŠ¤íŒ…
- **Azure Container Registry**: ì´ë¯¸ì§€ ì €ì¥ì†Œ
- **Azure Bicep**: Infrastructure as Code

### Azure ëª¨ë‹ˆí„°ë§
- **Azure Application Insights**: ë¶„ì‚° ì¶”ì  ë° ë¡œê¹…
- **Azure Monitor**: ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ë° ì•Œë¦¼
- **Azure Log Analytics**: ë¡œê·¸ ë¶„ì„

### ê°œë°œ í”„ë ˆì„ì›Œí¬
- **Microsoft Agent Framework**: ì—ì´ì „íŠ¸ SDK
- **Python 3.11+**: ëŸ°íƒ€ì„
- **GitHub Actions**: CI/CD íŒŒì´í”„ë¼ì¸

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License

---

## ğŸ”„ AIops ìƒì„¸ ê°€ì´ë“œ

### STAGE 1: ì—ì´ì „íŠ¸ ì›Œí¬í”Œë¡œìš° (ê°œë°œ)

ì—ì´ì „íŠ¸ëŠ” **4ê°œ ë…¸ë“œ**ê°€ ìˆœí™˜í•˜ë©° ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:

```
ì‚¬ìš©ì ìš”ì²­: "REST API ë§Œë“œëŠ” ë²• ì•Œë ¤ì¤˜"
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Planning â”‚  "3ë‹¨ê³„ë¡œ ë‚˜ëˆ ì„œ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤"
â”‚   (ê³„íš)    â”‚   â†’ Step 1: í™˜ê²½ì„¤ì •
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â†’ Step 2: ì½”ë“œì‘ì„±
     â”‚            â†’ Step 3: ì‹¤í–‰í…ŒìŠ¤íŠ¸
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Executionâ”‚  ê° Stepì„ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰
â”‚   (ì‹¤í–‰)    â”‚   â†’ "Flaskë¥¼ ì„¤ì¹˜í•˜ì„¸ìš”..."
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â†’ "app.pyë¥¼ ë§Œë“œì„¸ìš”..."
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Reflectionâ”‚ "í’ˆì§ˆ ì ìˆ˜: 0.85"
â”‚   (í‰ê°€)     â”‚ "ëª©í‘œ ë‹¬ì„±ë„: 90%"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Decision â”‚  í’ˆì§ˆ < 0.8 â†’ ì¬ì‹œë„ or ì¬ê³„íš
â”‚   (ê²°ì •)    â”‚  í’ˆì§ˆ â‰¥ 0.8 â†’ âœ… ì™„ë£Œ!
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì‹¤í–‰ ì˜ˆì‹œ:**
```bash
python -m langgraph_agent "Pythonìœ¼ë¡œ ê°„ë‹¨í•œ ì¸ì‚¬ë¥¼ í•´ì¤˜"
```

**ì¶œë ¥:**
```
ğŸ¤– AI Agent Started
â”œâ”€â”€ Planning: 2ê°œ ë‹¨ê³„ ê³„íš ìˆ˜ë¦½
â”œâ”€â”€ Execution: ë‹¨ê³„ 1 ì‹¤í–‰ ì™„ë£Œ
â”œâ”€â”€ Execution: ë‹¨ê³„ 2 ì‹¤í–‰ ì™„ë£Œ
â”œâ”€â”€ Reflection: í’ˆì§ˆ ì ìˆ˜ 0.95
â””â”€â”€ Decision: COMPLETE (ì‹ ë¢°ë„ 0.9)

âœ… ê²°ê³¼: ì‘ì—… ì™„ë£Œ!
```

---

### STAGE 2: CI/CD íŒŒì´í”„ë¼ì¸ (AgentOps)

GitHubì— ì½”ë“œ Push ì‹œ **ìë™ìœ¼ë¡œ ì‹¤í–‰**ë©ë‹ˆë‹¤:

```yaml
# .github/workflows/ci-cd.yml ë™ì‘ íë¦„

main ë¸Œëœì¹˜ Push
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ë¹Œë“œ & í…ŒìŠ¤íŠ¸ â”‚
â”‚   pytest ì‹¤í–‰    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ í…ŒìŠ¤íŠ¸ í†µê³¼ âœ…
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. í’ˆì§ˆ í‰ê°€    â”‚
â”‚  Azure AI SDK   â”‚  â† í’ˆì§ˆ ì ìˆ˜ ì¸¡ì •
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ ì ìˆ˜ â‰¥ 0.7 âœ…
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Docker ë¹Œë“œ  â”‚
â”‚   ACR Push      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Canary ë°°í¬  â”‚
â”‚   10% íŠ¸ë˜í”½    â”‚  â† ë¨¼ì € ì†Œìˆ˜ì—ê²Œ ë°°í¬
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ ì•ˆì •ì„± í™•ì¸ âœ…
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. ì „ì²´ ë°°í¬    â”‚
â”‚   100% íŠ¸ë˜í”½   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ìˆ˜ë™ìœ¼ë¡œ í‰ê°€ ì‹¤í–‰:**
```bash
# í…ŒìŠ¤íŠ¸ ë°ì´í„°ë¡œ í’ˆì§ˆ í‰ê°€
python tests/evaluation/run_evaluation.py \
    --test-data tests/evaluation/test_cases.jsonl \
    --output-dir evaluation_results

# ê²°ê³¼ í™•ì¸
cat evaluation_results/metrics.json
```

---

### STAGE 3: Azure í”„ë¡œë•ì…˜ í™˜ê²½

**Bicepìœ¼ë¡œ í•œ ë²ˆì— ë°°í¬ë˜ëŠ” Azure ë¦¬ì†ŒìŠ¤:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Azure Resource Group                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Container   â”‚  â”‚ Azure       â”‚  â”‚ Application         â”‚  â”‚
â”‚  â”‚ Apps        â”‚â—„â”€â”‚ Container   â”‚  â”‚ Insights            â”‚  â”‚
â”‚  â”‚ (ì—ì´ì „íŠ¸)  â”‚  â”‚ Registry    â”‚  â”‚ (ëª¨ë‹ˆí„°ë§)          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚        â”‚                                     â”‚               â”‚
â”‚        â–¼                                     â–¼               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Azure       â”‚  â”‚ Cosmos DB   â”‚  â”‚ Key Vault           â”‚  â”‚
â”‚  â”‚ OpenAI      â”‚  â”‚ (ëŒ€í™”ì €ì¥)  â”‚  â”‚ (ì‹œí¬ë¦¿)            â”‚  â”‚
â”‚  â”‚ (GPT-4.1)   â”‚  â”‚             â”‚  â”‚                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°°í¬ ëª…ë ¹ì–´:**
```bash
# 1. Azure ë¡œê·¸ì¸
az login

# 2. ë°°í¬ ê°€ëŠ¥ ì§€ì—­ í™•ì¸
python scripts/deploy.py --check-regions

# 3. ìë™ ë°°í¬ (ê¸°ì¡´ Azure OpenAI ì‚¬ìš©)
python scripts/deploy.py --region eastus
```

---

### ğŸ“ í•µì‹¬ íŒŒì¼ êµ¬ì¡°

```
langgraph_agent_framework/
â”‚
â”œâ”€â”€ src/langgraph_agent/
â”‚   â”œâ”€â”€ workflow.py      # ğŸ”µ í•µì‹¬! 4ê°œ ë…¸ë“œ + ìŠ¤íŠ¸ë¦¬ë° êµ¬í˜„
â”‚   â”œâ”€â”€ server.py        # ğŸ†• FastAPI ì›¹ ì„œë²„ (REST + SSE)
â”‚   â”œâ”€â”€ models.py        # ğŸ”µ ìƒíƒœ ê´€ë¦¬ ëª¨ë¸
â”‚   â”œâ”€â”€ config.py        # âš™ï¸ Azure ì„¤ì •
â”‚   â”œâ”€â”€ main.py          # ğŸš€ CLI ì§„ì…ì 
â”‚   â””â”€â”€ static/
â”‚       â””â”€â”€ index.html   # ğŸ†• ì›¹ ì±„íŒ… UI
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ deploy.py            # ğŸ†• ìë™ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ agent_eval_deploy.py # ğŸ†• í‰ê°€ â†’ ë°°í¬ í†µí•©
â”‚   â””â”€â”€ check_region_availability.py  # ì§€ì—­ í™•ì¸
â”‚
â”œâ”€â”€ tests/                   # ğŸ“‹ í…ŒìŠ¤íŠ¸ (71ê°œ)
â”‚   â”œâ”€â”€ evaluation/
â”‚   â”‚   â”œâ”€â”€ test_agent_behavior.py  # í–‰ë™ í…ŒìŠ¤íŠ¸ (21ê°œ)
â”‚   â”‚   â””â”€â”€ test_cases.jsonl        # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
â”‚   â”œâ”€â”€ integration/
â”‚   â”‚   â””â”€â”€ test_api.py             # ğŸ†• API í†µí•© (16ê°œ)
â”‚   â””â”€â”€ unit/
â”‚       â”œâ”€â”€ test_workflow.py        # ì›Œí¬í”Œë¡œìš° (13ê°œ)
â”‚       â””â”€â”€ test_deploy.py          # ğŸ†• ë°°í¬ ì„¤ì • (21ê°œ)
â”‚
â”œâ”€â”€ .github/workflows/
â”‚   â””â”€â”€ ci-cd.yml            # ğŸ”„ CI/CD íŒŒì´í”„ë¼ì¸
â”‚
â”œâ”€â”€ infra/
â”‚   â”œâ”€â”€ deploy-with-existing-aoai.bicep  # ğŸ†• ê¸°ì¡´ OpenAI ì‚¬ìš©
â”‚   â”œâ”€â”€ main-gpt41.bicep     # GPT-4.1 ì „ìš©
â”‚   â””â”€â”€ main.bicep           # â˜ï¸ ì „ì²´ ì¸í”„ë¼
â”‚
â”œâ”€â”€ simple_eval.py           # ğŸ†• ê°„í¸ í’ˆì§ˆ í‰ê°€
â”œâ”€â”€ Dockerfile               # ğŸ³ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ (ë©€í‹°ìŠ¤í…Œì´ì§€)
â””â”€â”€ docker-compose.yml       # ğŸ³ ë¡œì»¬ ê°œë°œ í™˜ê²½
```

---

## ğŸš€ ë°°í¬ ì •ë³´ ì˜ˆì‹œ

| í•­ëª© | ê°’ |
|------|-----|
| **ğŸŒ ì„œë¹„ìŠ¤ URL** | `https://ca-langgraph-agent-<env>.<unique-id>.<region>.azurecontainerapps.io` |
| **ğŸ“¦ Container App** | `ca-langgraph-agent-<env>` |
| **ğŸ“ Resource Group** | `rg-langgraph-agent-<env>-<region>` |
| **ğŸ³ Container Registry** | `acr<name><region>.azurecr.io` |
| **ğŸ·ï¸ Current Image** | `langgraph-agent:v1` |
| **ğŸ¤– Azure OpenAI Model** | `gpt-4.1` |
| **ğŸ“ Region** | ë°°í¬ ì‹œ ì„ íƒ |

### ë°°í¬ ëª…ë ¹ì–´

```bash
# 1. ACRì—ì„œ Docker ì´ë¯¸ì§€ ë¹Œë“œ ë° í‘¸ì‹œ
az acr build --registry <acr-name> \
  --image langgraph-agent:v2 \
  --file Dockerfile \
  --target production .

# 2. Container App ì—…ë°ì´íŠ¸
az containerapp update \
  --name ca-langgraph-agent-<env> \
  --resource-group rg-langgraph-agent-<env>-<region> \
  --image <acr-name>.azurecr.io/langgraph-agent:v2
```

---

## ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ACR ì´ë¯¸ì§€ ë¹Œë“œ ì‹¤íŒ¨ (DNS ì˜¤ë¥˜)
```
dial tcp: lookup acrxxx.azurecr.io: no such host
```
**ì›ì¸**: ACR ìƒì„± ì§í›„ DNS ì „íŒŒ ì§€ì—°
**í•´ê²°**: `deploy.py`ëŠ” ìë™ìœ¼ë¡œ 60ì´ˆ ëŒ€ê¸° í›„ ìµœëŒ€ 3íšŒ ì¬ì‹œë„

### Container App ì´ë¯¸ì§€ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨ (UNAUTHORIZED)
```
UNAUTHORIZED: authentication required
```
**ì›ì¸**: Container Appì˜ Managed Identityì— ACR Pull ê¶Œí•œ ì—†ìŒ
**í•´ê²°**: `deploy.py`ê°€ ìë™ìœ¼ë¡œ AcrPull ê¶Œí•œ ë¶€ì—¬ ë° 30ì´ˆ ëŒ€ê¸°

### í—¬ìŠ¤ ì²´í¬ íƒ€ì„ì•„ì›ƒ
```
TimeoutError: The read operation timed out
```
**ì›ì¸**: Container App ì½œë“œ ìŠ¤íƒ€íŠ¸ ë˜ëŠ” ì•± ì‹œì‘ ì§€ì—°
**í•´ê²°**: `deploy.py`ëŠ” ìµœëŒ€ 10íšŒ Ã— 15ì´ˆ ê°„ê²©ìœ¼ë¡œ ì¬ì‹œë„

### ìˆ˜ë™ ë¡œê·¸ í™•ì¸
```bash
# Container App ë¡œê·¸ í™•ì¸
az containerapp logs show \
  --name ca-langgraph-agent-<env> \
  --resource-group rg-langgraph-agent-<env>-<region> \
  --tail 50

# ACR ë¹Œë“œ ë¡œê·¸ í™•ì¸
az acr task logs --registry <acr-name>
```

---

## ğŸ¤ ê¸°ì—¬

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## ğŸ“ ì§€ì›

ë¬¸ì˜ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ Issuesë¥¼ í†µí•´ ì—°ë½í•´ ì£¼ì„¸ìš”.

---

## ğŸ“ ìµœê·¼ ì—…ë°ì´íŠ¸

### v1.1.0 (2026-01-19)
- âœ… **í…ŒìŠ¤íŠ¸ í™•ì¥**: 34ê°œ â†’ 71ê°œ (í†µí•© í…ŒìŠ¤íŠ¸ + ë°°í¬ í…ŒìŠ¤íŠ¸ ì¶”ê°€)
- âœ… **API í†µí•© í…ŒìŠ¤íŠ¸** (`test_api.py`): FastAPI ì—”ë“œí¬ì¸íŠ¸ 16ê°œ í…ŒìŠ¤íŠ¸
- âœ… **ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸** (`test_deploy.py`): ë¦¬ì†ŒìŠ¤ ì´ë¦„, ì„¤ì •, ì¬ì‹œë„ ë¡œì§ 21ê°œ í…ŒìŠ¤íŠ¸
- âœ… **pytest-asyncio** ì§€ì› ì¶”ê°€
- âœ… **Pydantic frozen ëª¨ë¸** í…ŒìŠ¤íŠ¸ ìˆ˜ì •

### v1.0.0
- ğŸš€ ì´ˆê¸° ë¦´ë¦¬ìŠ¤
- LangGraph ìŠ¤íƒ€ì¼ 4ë‹¨ê³„ ì›Œí¬í”Œë¡œìš° (Planning â†’ Execution â†’ Reflection â†’ Decision)
- Azure Container Apps ë°°í¬ ìë™í™”
- ì›¹ ê¸°ë°˜ ì±„íŒ… UI (SSE ìŠ¤íŠ¸ë¦¬ë°)
